<!DOCTYPE html><html lang="en-GB" prefix="og: http://ogp.me/ns#"><head><meta charset="utf-8"><meta content="IE=edge" http-equiv="X-UA-Compatible"><meta content="width=device-width,initial-scale=1" name="viewport"><meta content="/assets/img/msapplication_tileimage.png" name="msapplication-TileImage"><meta content="#313131" name="msapplication-TileColor"><meta content="Hugo 0.17-DEV" name="generator"><meta content="How to deploy a Hugo website with Github and Travis CI, hosted with Caddy Webserver" name="description"><meta content="Hugo,Static Site,Web Development,Github," name="keywords"><meta content="article" name="og:type"><meta content="How I deploy my Hugo site to my webserver | Peter Y. Chuang - Novelist, Short Story Writer" name="og:title"><meta content="https://novelist.xyz/tech/hugo-site-deployment-workflow/" name="og:url"><meta content="/assets/img/code.jpg" name="og:image"><meta content="This is how I deploy this website" name="og:description"><meta content="Peter Y. Chuang - Novelist, Short Story Writer" name="og:site_name"><meta content="summary_large_image" name="twitter:card"><meta content="@peterychuang" name="twitter:site"><title>Hugo site deployment with Github, Travis CI, and Caddy Webserver | Peter Y. Chuang - Novelist, Short Story Writer</title><link href="https://novelist.xyz/tech/hugo-site-deployment-workflow/" rel="canonical"><link href="/assets/img/favicon-32x32.png" rel="icon" sizes="32x32"><link href="/assets/img/touch-icon-192x192.png" rel="icon" sizes="192x192"><link href="/assets/img/apple-touch-icon-180x180-precomposed.png" rel="apple-touch-icon-precomposed" sizes="180x180"><link href="/assets/img/apple-touch-icon-152x152-precomposed.png" rel="apple-touch-icon-precomposed" sizes="152x152"><link href="/assets/img/apple-touch-icon-144x144-precomposed.png" rel="apple-touch-icon-precomposed" sizes="144x144"><link href="/assets/img/apple-touch-icon-120x120-precomposed.png" rel="apple-touch-icon-precomposed" sizes="120x120"><link href="/assets/img/apple-touch-icon-114x114-precomposed.png" rel="apple-touch-icon-precomposed" sizes="114x114"><link href="/assets/img/apple-touch-icon-76x76-precomposed.png" rel="apple-touch-icon-precomposed" sizes="76x76"><link href="/assets/img/apple-touch-icon-72x72-precomposed.png" rel="apple-touch-icon-precomposed" sizes="72x72"><link href="/assets/img/apple-touch-icon-precomposed.png" rel="apple-touch-icon-precomposed"><link href="/assets/css/style.css" rel="preload" as="style" onload='this.rel="stylesheet"'><link href="/assets/css/fontawesome.css" rel="preload" as="style" onload='this.rel="stylesheet"'><link href="/assets/css/font-serif.css" rel="preload" as="style" onload='this.rel="stylesheet"'><link href="/assets/css/font-sans.css" rel="preload" as="style" onload='this.rel="stylesheet"'><link href="/assets/css/font-display.css" rel="preload" as="style" onload='this.rel="stylesheet"'><link href="/assets/css/font-mono.css" rel="preload" as="style" onload='this.rel="stylesheet"'><noscript><link href="/assets/css/style.css" rel="stylesheet"></noscript><noscript><link href="/assets/css/fontawesome.css" rel="stylesheet"></noscript><noscript><link href="/assets/css/font-serif.css" rel="stylesheet"></noscript><noscript><link href="/assets/css/font-sans.css" rel="stylesheet"></noscript><noscript><link href="/assets/css/font-display.css" rel="stylesheet"></noscript><noscript><link href="/assets/css/font-mono.css" rel="stylesheet"></noscript><script>!function(e){"use strict";var t=function(t,n,r){function o(e){return i.body?e():void setTimeout(function(){o(e)})}function l(){d.addEventListener&&d.removeEventListener("load",l),d.media=r||"all"}var a,i=e.document,d=i.createElement("link");if(n)a=n;else{var s=(i.body||i.getElementsByTagName("head")[0]).childNodes;a=s[s.length-1]}var u=i.styleSheets;d.rel="stylesheet",d.href=t,d.media="only x",o(function(){a.parentNode.insertBefore(d,n?a:a.nextSibling)});var f=function(e){for(var t=d.href,n=u.length;n--;)if(u[n].href===t)return e();setTimeout(function(){f(e)})};return d.addEventListener&&d.addEventListener("load",l),d.onloadcssdefined=f,f(l),d};"undefined"!=typeof exports?exports.loadCSS=t:e.loadCSS=t}("undefined"!=typeof global?global:this),function(e){if(e.loadCSS){var t=loadCSS.relpreload={};if(t.support=function(){try{return e.document.createElement("link").relList.supports("preload")}catch(t){}},t.poly=function(){for(var t=e.document.getElementsByTagName("link"),n=0;n<t.length;n++){var r=t[n];"preload"===r.rel&&"style"===r.getAttribute("as")&&(e.loadCSS(r.href,r),r.rel=null)}},!t.support()){t.poly();var n=e.setInterval(t.poly,300);e.addEventListener&&e.addEventListener("load",function(){e.clearInterval(n)})}}}(this)</script><script>!function(){if(sessionStorage.fontsloaded)return void(document.documentElement.className+=" fonts-loaded");!function(){"use strict";function t(t){f.push(t),1==f.length&&l()}function e(){for(;f.length;)f[0](),f.shift()}function n(t){this.a=u,this.b=void 0,this.f=[];var e=this;try{t(function(t){a(e,t)},function(t){r(e,t)})}catch(n){r(e,n)}}function o(t){return new n(function(e,n){n(t)})}function i(t){return new n(function(e){e(t)})}function a(t,e){if(t.a==u){if(e==t)throw new TypeError;var n=!1;try{var o=e&&e.then;if(null!=e&&"object"==typeof e&&"function"==typeof o)return void o.call(e,function(e){n||a(t,e),n=!0},function(e){n||r(t,e),n=!0})}catch(i){return void(n||r(t,i))}t.a=0,t.b=e,s(t)}}function r(t,e){if(t.a==u){if(e==t)throw new TypeError;t.a=1,t.b=e,s(t)}}function s(e){t(function(){if(e.a!=u)for(;e.f.length;){var t=e.f.shift(),n=t[0],o=t[1],i=t[2],t=t[3];try{0==e.a?i("function"==typeof n?n.call(void 0,e.b):e.b):1==e.a&&("function"==typeof o?i(o.call(void 0,e.b)):t(e.b))}catch(a){t(a)}}})}function c(t){return new n(function(e,n){function o(n){return function(o){r[n]=o,a+=1,a==t.length&&e(r)}}var a=0,r=[];0==t.length&&e(r);for(var s=0;s<t.length;s+=1)i(t[s]).c(o(s),n)})}function d(t){return new n(function(e,n){for(var o=0;o<t.length;o+=1)i(t[o]).c(e,n)})}var l,f=[];l=function(){setTimeout(e)};var u=2;n.prototype.g=function(t){return this.c(void 0,t)},n.prototype.c=function(t,e){var o=this;return new n(function(n,i){o.f.push([t,e,n,i]),s(o)})},window.Promise||(window.Promise=n,window.Promise.resolve=i,window.Promise.reject=o,window.Promise.race=d,window.Promise.all=c,window.Promise.prototype.then=n.prototype.c,window.Promise.prototype["catch"]=n.prototype.g)}(),function(){function t(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function e(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),t()}):document.attachEvent("onreadystatechange",function n(){("interactive"==document.readyState||"complete"==document.readyState)&&(document.detachEvent("onreadystatechange",n),t())})}function n(t){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(t)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function o(t,e){t.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font:"+e+";"}function i(t){var e=t.a.offsetWidth,n=e+100;return t.f.style.width=n+"px",t.c.scrollLeft=n,t.b.scrollLeft=t.b.scrollWidth+100,t.g!==e&&(t.g=e,!0)}function a(e,n){function o(){var t=a;i(t)&&null!==t.a.parentNode&&n(t.g)}var a=e;t(e.b,o),t(e.c,o),i(e)}function r(t,e){var n=e||{};this.family=t,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}function s(){if(null===l){var t=document.createElement("div");try{t.style.font="condensed 100px sans-serif"}catch(e){}l=""!==t.style.font}return l}function c(t,e){return[t.style,t.weight,s()?t.stretch:"","100px",e].join(" ")}var d=null,l=null,f=null;r.prototype.load=function(t,i){var r=this,s=t||"BESbswy",l=i||3e3,u=(new Date).getTime();return new Promise(function(t,i){if(null===f&&(f=!!window.FontFace),f){var h=new Promise(function(t,e){function n(){(new Date).getTime()-u<l?document.fonts.load(c(r,r.family),s).then(function(e){1>e.length?setTimeout(n,25):t()},function(){e()}):e()}n()}),p=new Promise(function(t,e){setTimeout(e,l)});Promise.race([p,h]).then(function(){t(r)},function(){i(r)})}else e(function(){function e(){var e;(e=-1!=w&&-1!=v||-1!=w&&-1!=y||-1!=v&&-1!=y)&&((e=w!=v&&w!=y&&v!=y)||(null===d&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),d=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=d&&(w==b&&v==b&&y==b||w==g&&v==g&&y==g||w==x&&v==x&&y==x)),e=!e),e&&(null!==E.parentNode&&E.parentNode.removeChild(E),clearTimeout(T),t(r))}function f(){if((new Date).getTime()-u<l){var t=document.hidden;(!0===t||void 0===t)&&(w=h.a.offsetWidth,v=p.a.offsetWidth,y=m.a.offsetWidth,e()),T=setTimeout(f,50)}else null!==E.parentNode&&E.parentNode.removeChild(E),i(r)}var h=new n(s),p=new n(s),m=new n(s),w=-1,v=-1,y=-1,b=-1,g=-1,x=-1,E=document.createElement("div"),T=0;E.dir="ltr",o(h,c(r,"sans-serif")),o(p,c(r,"serif")),o(m,c(r,"monospace")),E.appendChild(h.a),E.appendChild(p.a),E.appendChild(m.a),document.body.appendChild(E),b=h.a.offsetWidth,g=p.a.offsetWidth,x=m.a.offsetWidth,f(),a(h,function(t){w=t,e()}),o(h,c(r,'"'+r.family+'",sans-serif')),a(p,function(t){v=t,e()}),o(p,c(r,'"'+r.family+'",serif')),a(m,function(t){y=t,e()}),o(m,c(r,'"'+r.family+'",monospace'))})})},"undefined"!=typeof module?module.exports=r:(window.FontFaceObserver=r,window.FontFaceObserver.prototype.load=r.prototype.load)}();var t=new FontFaceObserver("Crimson Text"),e=new FontFaceObserver("Crimson Text",{weight:700}),n=new FontFaceObserver("Crimson Text",{style:"italic"}),o=new FontFaceObserver("Crimson Text",{style:"italic",weight:700}),i=new FontFaceObserver("Playfair Display",{weight:700}),a=new FontFaceObserver("Alegreya Sans");Promise.all([t.load(),e.load(),n.load(),o.load(),i.load(),a.load()]).then(function(){document.documentElement.className+=" fonts-loaded",sessionStorage.fontsloaded=!0})}()</script><style>.col-lg-8,.content hr:before,.dropdown{position:relative}body,button{margin:0}.fa{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased}hr{border:0;box-sizing:content-box;height:0;margin-top:29px;margin-bottom:29px;border-top:1px solid}.fa,body{-moz-osx-font-smoothing:grayscale}.dropdown-menu,.nav{list-style:none}.fa-inverse{color:#fff}.fa-pencil:before{content:'\f040'}.fa-twitter:before{content:'\f099'}.fa-rss:before{content:'\f09e'}.fa-bars:before{content:'\f0c9'}.fa-google-plus:before{content:'\f0d5'}.fa-medium:before{content:'\f23a'}header,nav,section{display:block}h1{margin:.67em 0}button{font:inherit;color:inherit}button::-moz-focus-inner{padding:0;border:0}*,:after,:before{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}html{font-size:10px}body{line-height:1.4;font-family:'Times New Roman',serif;font-size:21px;font-weight:400;color:#333;background-color:#f9f9f9;-webkit-font-smoothing:antialiased}.fonts-loaded body{font-family:'Crimson Text'}button{overflow:visible;text-transform:none;-webkit-appearance:button;font-family:inherit;font-size:inherit;line-height:inherit}a{background-color:transparent;text-decoration:none;color:#1f82ef}.content hr{margin-top:44px;margin-bottom:34px;text-align:center;border:0}h1,ul{margin-bottom:14.5px}.content hr:before{font-size:28px;font-weight:400;top:-30px;display:inline-block;margin-left:.6em;content:'...';letter-spacing:.6em;color:rgba(0,0,0,.6)}blockquote,p{margin:0 0 29px}h1{font-family:'Times New Roman',serif;font-weight:700;line-height:1.1;color:inherit;margin-top:29px;font-size:37px}.fonts-loaded h1{font-family:'Playfair Display'}@media (max-width:767px){h1{font-size:29.6px}}h1::before{display:block;height:50px;margin:-50px 0 0;content:''}.brand-heading{font-size:44.4px}.subheading{font-style:italic}@media (max-width:767px){.brand-heading{font-size:37px}}.small{font-size:71%}ul{margin-top:0}blockquote p:last-child,ul ul{margin-bottom:0}blockquote{font-size:21px;padding:14.5px 29px;border-left:5px solid #eee;text-rendering:optimizeSpeed}.col-lg-8,.container{padding-right:15px;padding-left:15px}.container{margin-right:auto;margin-left:auto}@media (max-width:991px){.container{width:100%}}@media (min-width:992px){.container{width:970px}}.row{margin-right:-15px;margin-left:-15px}.col-lg-8{min-height:1px}@media (min-width:1200px){.container{width:1170px}.col-lg-8{float:left;width:66.66666667%}.col-lg-offset-2{margin-left:16.66666667%}}.collapse{display:none}.caret{vertical-align:middle;display:inline-block;width:0;height:0;margin-left:2px;border-top:4px dashed;border-top:4px solid\9;border-right:4px solid transparent;border-left:4px solid transparent}.dropdown-menu{font-size:15px;position:absolute;z-index:1000;top:100%;left:0;display:none;float:left;min-width:160px;margin:2px 0 0;padding:0;text-align:right;background-color:#f9f9f9;background-clip:padding-box;-webkit-box-shadow:0 6px 12px rgba(0,0,0,.175);box-shadow:0 6px 12px rgba(0,0,0,.175)}.navbar-inverse,.navbar-toggle{background-color:transparent}.nav>li,.nav>li>a{display:block}.dropdown-menu>li>a{font-weight:400;line-height:1.4;white-space:nowrap;display:block;clear:both;padding:3px 30px;color:#333}.header,.img,.navbar-inverse .navbar-brand,.navbar-inverse .navbar-nav>li>a{color:#f9f9f9}@media (min-width:992px){.navbar-right .dropdown-menu{right:0;left:auto}}@media (max-width:991px){.dropdown-menu{background-color:transparent;font-size:15px;position:inherit;z-index:1000;top:100%;left:0;display:block;float:none;min-width:160px;margin:2px 0 0;padding:0;list-style:none;text-align:right;background-clip:padding-box;-webkit-box-shadow:0 0 0 0 transparent;box-shadow:0 0 0 0 transparent}.nav>li{float:left;width:100%}}.nav>li,.nav>li>a,.navbar{position:relative}.nav{margin-bottom:0;padding-left:0}.nav>li>a{padding:10px}.navbar{min-height:50px;padding:0;border:0}.navbar-collapse{overflow-x:visible;padding-right:15px;padding-left:15px;border-top:1px solid transparent;-webkit-overflow-scrolling:touch}@media (min-width:992px){.navbar{border-radius:4px}.navbar-header{float:left}.navbar-collapse{width:auto;border-top:0;box-shadow:none}.navbar-collapse.collapse{display:block!important;overflow:visible!important;height:auto!important;padding-bottom:0}.navbar-fixed-top .navbar-collapse{padding-right:0;padding-left:0}}header{overflow:hidden}.container>.navbar-collapse,.container>.navbar-header{max-height:85vh;margin-right:-15px;margin-left:-15px}.navbar-fixed-top{position:fixed;z-index:1030;right:0;left:0;font-family:Arial,sans-serif;font-size:15px;top:0;border-width:0 0 1px}.fonts-loaded .navbar-fixed-top{font-family:'Alegreya Sans'}.navbar-brand{font-family:'Times New Roman',serif;font-size:21px;font-weight:700;line-height:29px;float:left;height:50px;padding:10.5px 15px}@media (min-width:992px){.container>.navbar-collapse,.container>.navbar-header{margin-right:0;margin-left:0}.navbar-fixed-top{border-radius:0}.navbar>.container .navbar-brand{margin-left:-15px}.navbar-toggle{display:none}}.fonts-loaded .navbar-brand{font-family:'Playfair Display'}p.meta,p.word-count{font-family:Arial,sans-serif}.navbar-toggle{position:relative;float:right;margin-top:0;margin-right:15px;margin-bottom:0;padding:12px 10px;border:1px solid transparent;border-radius:4px;background-image:none}.navbar-inverse,.navbar-inverse .navbar-collapse{border-color:transparent}.navbar-nav{margin:0 -15px}.navbar-nav>li>a{line-height:29px;padding-top:10px;padding-bottom:10px}@media (max-width:991px){.navbar-nav>li>a{padding-top:0;padding-right:30px;padding-bottom:0}.navbar-nav{text-align:right}.navbar-nav>li>.dropdown-menu{font-style:italic}}.navbar-nav>li>.dropdown-menu{margin-top:0;border-top-left-radius:0;border-top-right-radius:0}.navbar-inverse .dropdown-menu,.navbar-inverse .dropdown-menu>li>a{color:#f9f9f9;background:#000}.navbar-nav>li>a.nav-social{display:inline}@media (min-width:992px){.navbar-nav{float:left;margin:0}.navbar-nav>li{float:left}.navbar-nav>li>a{padding-top:10.5px;padding-bottom:10.5px}.navbar-right{float:right;float:right!important;margin-right:-15px}.navbar-nav>li>a.nav-social{display:block;float:left}}li.nav-social{padding-top:0;padding-bottom:0}@media (max-width:991px){li.nav-social{line-height:29px;display:inline;padding-top:10px;padding-bottom:10px}}@media (min-width:992px){li.nav-social{display:block;padding-right:68px}}@media (min-width:1200px){li.nav-social{display:block;padding-right:168px}}.container:after,.container:before,.nav:after,.nav:before,.navbar-collapse:after,.navbar-collapse:before,.navbar-header:after,.navbar-header:before,.navbar:after,.navbar:before,.row:after,.row:before{display:table;content:' '}.container:after,.nav:after,.navbar-collapse:after,.navbar-header:after,.navbar:after,.row:after{clear:both}@-ms-viewport{width:device-width}.fa{border:0}.header,.img{text-align:center;position:relative;width:100%;height:25pc;margin:auto;background-repeat:no-repeat;background-position:center center;-webkit-background-size:cover;-moz-background-size:cover;-o-background-size:cover;background-size:cover;-webkit-filter:none}.layer{background:rgba(0,0,0,.5)}.header .container{width:100%;height:100%}.header-text{position:absolute;top:50%;left:50%;width:100%;transform:translate(-50%,-50%)}.content{padding:40px 0 150px}hr.small{max-width:100px;margin:15px auto;color:inherit;border-width:2px}p.word-count{font-size:12px;color:#777}p.meta{font-size:13.5px;margin-top:70px;padding-bottom:26px;color:#777;border-bottom:#ddd 1px solid}.content.list p.meta{margin-top:0;color:#777}@media (max-width:991px){.content.list p.meta{font-size:12px}}.fonts-loaded p.meta,.fonts-loaded p.word-count{font-family:'Alegreya Sans'}.fa-twitter{color:#00aced}.fa-rss{color:inherit}.fa-google-plus{color:#cf3d2e}.fa-medium{color:#02b875}.header{background-image:url(data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEBLAEsAAD/2wBDABQODxIPDRQSEBIXFRQYHjIhHhwcHj0sLiQySUBMS0dARkVQWnNiUFVtVkVGZIhlbXd7gYKBTmCNl4x9lnN+gXz/2wBDARUXFx4aHjshITt8U0ZTfHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHz/wAARCAAbADADASIAAhEBAxEB/8QAGgAAAgIDAAAAAAAAAAAAAAAAAgMABQEEBv/EACMQAAICAQIGAwAAAAAAAAAAAAECABEDITEEBRJBUXETQmH/xAAWAQEBAQAAAAAAAAAAAAAAAAABAAL/xAAXEQEBAQEAAAAAAAAAAAAAAAAAARFB/9oADAMBAAIRAxEAPwCiQAtRhthO42g0FYUb1j+m1J6iKlaeE/E35BK13EazIovc+Liy/hQIAEsRyjIcKZRkFMLGkrp03BkZOV4CfqKmonNA0bjugOCb1iIaMQpowKHGymjB0He/UhJO5mUFtrIMept4ePy4uHGFWpQfE1X3gxlxP//Z);filter:none;transition:-webkit-filter .5s linear,filter .5s linear}.img.loaded{transition:opacity .5s linear}</style></head><body><nav class="navbar navbar-fixed-top navbar-inverse"><div class="container"><div class="navbar-header"><button aria-expanded="false" class="collapsed navbar-toggle" data-target=".navbar-main-collapse" data-toggle="collapse" type="button"><i class="fa fa-bars fa-inverse"></i></button> <a href="/" class="navbar-brand"><i class="fa fa-pencil">&nbsp;</i> Peter Y. Chuang - Novelist</a></div><div class="collapse navbar-collapse navbar-main-collapse navbar-right"><ul class="nav navbar-nav" id="navmenu"><li class="nav-social"><a href="https://twitter.com/peterychuang" title="Follow on Twitter" class="nav-social"><i class="fa fa-twitter"></i></a> <a href="https://plus.google.com/+PeterYuChuang/" title="Follow on Google+" class="nav-social"><i class="fa fa-google-plus"></i></a> <a href="https://medium.com/@peterychuang" title="Follow on Medium" class="nav-social"><i class="fa fa-medium"></i></a> <a href="/index.xml" title="Subscribe to Atom Feed" class="nav-social"><i class="fa fa-rss"></i></a></li><li><a href="/#about">About</a></li><li class="dropdown"><a href="/#novels" class="dropdown-toggle" data-toggle="dropdown" role="button">Novels <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/novels/2047/">Twenty Forty-Seven</a></li><li><a href="/novels/only-you-know-what-it-means/">Only You Know What It Means</a></li></ul></li><li class="dropdown"><a href="/blog/" class="dropdown-toggle" data-toggle="dropdown" role="button">Blog <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/short-stories/">Short Stories</a></li><li><a href="/essays/">Essays</a></li><li><a href="/poetry/">Poetry</a></li><li><a href="/tech/">Tech</a></li><li><a href="/misc/">Misc.</a></li></ul></li><li><a href="/bookshelf/">Bookshelf</a></li><li><a href="/#contact">Contact</a></li></ul></div></div></nav><header class="header" data-src="/assets/img/code.jpg"><div class="img"><div class="container layer"><div class="header-text"><h1 class="brand-heading">How I deploy my Hugo site to my webserver</h1><hr class="small"><p><span class="subheading">This is how I deploy this website</span></p></div></div></div></header><section class="content" id="how-i-deploy-my-hugo-site-to-my-webserver" itemscope itemtype="http://schema.org/Article"><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2"><p class="word-count">1386 words · 7 min read</p><p><del><strong><em>This post has been updated to reflect my new deployment process after <a href="/tech/switching-from-github-pages-to-firebase/">migrating to Firebase</a></em></strong></del><br><strong><em>This post has been updated to reflect further important changes</em></strong></p><p>Static site generators are great&mdash;<a href="/tech/jekyll/">Jekyll is great</a>, and <a href="/tech/hugo-vs-jekyll-static-site-generator/">Hugo is even greater</a>&mdash;except when it comes to updating the website. In the old days of my using wordpress, updating a post was a matter of logging in to the Wordpress Admin, making changes to the post, and hitting the &ldquo;save&rdquo; button. In a static site, however, one has to build the site and upload it to the webserver. The process varies depending on where and how you host your website, though it&rsquo;s going to involve more than a few mouse clicks without some automation.</p><p>Having considered and tried a few hosting and deployment options for my website (including Github Pages, Gitlab Pages, Netlify, and <a href="/tech/switching-from-github-pages-to-firebase/">Firebase</a>, I&rsquo;ve settled with (for now, at least) using Github, Travis CI, and Caddy Webserver, hosted on a VPS that has just 128 MB memory. Below, I will describe various components of my deployment workflow.</p><h2 id="a-general-overview">A general overview</h2><p>The deployment involves four steps: first, the source is pushed to the source branch of my Github repository; changes in the source branch will trigger Travis CI to build the website with Hugo and Gulp; the output from Travis CI will then be pushed to the master branch on Github (note: if you host your website on Github Pages, your deployment is done here); changes in the master branch on Github will then trigger Caddy Webserver to pull all the changes from the Github.</p><p>The entire chain is invoked with a commit pushed to the remote Github repository, a step that most of us are already familiar with. Here, I am going to discuss the next few steps.</p><h3 id="travis-ci">Travis CI</h3><p>Travis CI is a continuous integration service that tests codes and builds stuff from codes on Github. When a new commit is pushed, Travis CI spins up a virtual machine that runs the build as instructed by <code>.travis.yml</code>, which is located in the root of your repository.</p><p>This part of the deployment is an adaption of <a href="http://rcoedo.com/post/hugo-static-site-generator/">Roman Coedo&rsquo;s workflow</a>. You will need to create a key <strong>with no passphrase</strong> following the procedure from <a href="https://help.github.com/articles/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent/">this guide from Github</a>, place the key inside your repository, run <code>travis encrypt-file &lt;your key&gt;</code> to encrypt your key, which should produce a file ending with .enc extension and something like this on the terminal:</p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span>Please add the following to your build script <span class="o">(</span>before_install stage in your .travis.yml, <span class="k">for</span> instance<span class="o">)</span>:

    openssl aes-256-cbc -K <span class="nv">$encrypted_fb3a77764d15_key</span> -iv <span class="nv">$encrypted_fb3a77764d15_iv</span> -in publish-key.enc -out publish-key -d
</code></pre></div><p>Copy the <code>openssl aes-256-cbc [...]</code> bit and paste that into <code>.travis.yml</code>, <strong>remove</strong> the unencrypted key from your repository, and leave the encrypted key (.enc) inside.</p><p>Next, create <code>.travis.yml</code> in the root of your repositry, which will tell Travis CI to run Hugo and other steps required to build (my <a href="https://github.com/peterychuang/peterychuang.github.io/blob/source/.travis.yml"><code>.travis.yml</code></a> is here). Towards to end of the build process, <a href="https://github.com/peterychuang/peterychuang.github.io/blob/source/deploy.sh"><code>deploy.sh</code></a> is executed to pushes the build back to Github.</p><p>If you publish your website on Github, you are done here. But if you would like to publish your website somewhere else&mdash;for example, your own server&mdash;then read on.</p><h3 id="publishing-with-caddy-webserver">Publishing with Caddy Webserver</h3><p><a href="https://caddyserver.com/">Caddy</a> is a new entry into the webservers space (Apache, Nginx, that kind of thing). It is lightweight, fast, and future-proof, with HTTP/2, automatic HTTPS, experimental QUIC support, and others. I choose Caddy for this website mostly because of its simplicity and its optional <a href="https://github.com/abiosoft/caddy-git">git add-on</a>, which allows automatic update by pulling from a remote git repository.</p><p>To enable this feature, check the git option when you <a href="https://caddyserver.com/download">download Caddy</a>. Inside your Caddyfile (the configuration file for Caddy), include a git code block that specifies the repository you wish to clone, the location of the hook, the secret token, and the path to the SSH key (optional). For other options, read the <a href="https://caddyserver.com/docs/git">documentation for the git directive</a>).</p><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="nx">git</span> <span class="p">{</span>
  <span class="nx">repo</span> <span class="nx">git</span><span class="err">@</span><span class="nx">github</span><span class="p">.</span><span class="nx">com</span><span class="o">:&lt;</span><span class="nx">github</span> <span class="nx">username</span><span class="o">&gt;</span><span class="err">/&lt;github repository&gt;</span>
  <span class="nx">path</span> <span class="p">.</span>
  <span class="nx">branch</span> <span class="nx">master</span>
  <span class="nx">hook</span> <span class="o">/</span><span class="nx">hook</span> <span class="o">&lt;</span><span class="nx">secret</span><span class="o">&gt;</span>
  <span class="nx">key</span> <span class="o">&lt;</span><span class="nx">path</span> <span class="nx">to</span> <span class="nx">the</span> <span class="kr">private</span> <span class="nx">key</span><span class="o">&gt;</span>
<span class="p">}</span>
</code></pre></div><p>Then, go to the Settings of your Github repository, point the webhook to your server, and set the secret token (and the deploy key). For a detailed demonstration, watch <a href="https://www.youtube.com/watch?v=dmat1MUT0fc">this video</a>.</p><p>When Caddy Webserver is started for the first time, it clones the master branch of my Github repository. After the initial clone, it will be trigger to pull from Github whenever the webhook is invoked.</p><h2 id="why-do-i-do-this">Why do I do this?</h2><p>Using Travis CI, for me at least, is much cleaner than maintaining two branches in my local machines&mdash;one branch for source and one branch for built website&mdash;and pushing two branches to the remote repository every time I update the website. Although using bash scripts have, in the past, simplified the process to a great extent, the ease of executing bash scripts made me much less careful when committing changes, thus introducing a lot of noise and mess in my commits history, which wasn&rsquo;t very ideal.</p><p>Meanwhile, hosting on a VPS gives me total control over my server with minimal expense. Since this website is small and static, and since Caddy is very lightweight, a virtual machine with just 128 MB memory, which only costs me a little more than US$1 a month, is more than enough to give this website a solid performance.</p><p>Deploying my website this way isn&rsquo;t totally without drawbacks, of course, the biggest of which is that the build time is much longer than on <a href="/tech/my-linux-rig/">my desktop and my laptop</a>. An alternative, which I have experimented with, is to run the build on the same machine that runs the webserver. The downside to this is that running the build uses significant amount of CPU and memory, which proved to be too demanding for a 128-MB-memory virtual machine.</p><h4 id="my-old-workflow"><em>My old workflow</em></h4><p><em>Below was my old way of deployment this site to Firebase, which involved some bash scripts. I leave it here for your reference.</em></p><h5 id="update-with-a-time-stamp"><em>Update with a time-stamp</em></h5><p><em>For simple updates such as publishing a new post or making changes to an existing one, I prefer using time-stamps as my git commit messages:</em></p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span><span class="ch">#!/bin/bash</span>

<span class="c1"># Fetch current time</span>
<span class="nb">export</span> <span class="nv">TZ</span><span class="o">=</span><span class="s2">&quot;:America/New_York&quot;</span>
<span class="nv">now</span><span class="o">=</span><span class="k">$(</span>date +<span class="s2">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="k">)</span>

<span class="nb">cd</span> path-to-hugo/source

<span class="c1"># Push the source to Github (source branch)</span>
git add .
git commit -m <span class="s2">&quot;Site update: </span><span class="nv">$now</span><span class="s2">&quot;</span>
git push origin master

<span class="c1"># Build the site</span>
hugo

<span class="c1"># Run the gulp task</span>
<span class="nb">cd</span> path-to-gulp
gulp deploy

<span class="c1"># Deploy</span>
<span class="nb">cd</span> path-to-firebase
firebase deploy
</code></pre></div><p><em>What this script does are:</em></p><p><em>1. Build the pages;</em><br><em>2. Push the source to a remote Git repository;</em><br><em>3. Run Gulp to generate the final output for deployment, as explained later; and</em><br><em>4. Deploy the final output to Firebase.</em></p><h5 id="update-with-a-commit-message"><em>Update with a commit message</em></h5><p><em>For other updates where a commit message is preferable, I use the following script:</em></p><div class="highlight"><pre><code class="language-bash" data-lang="bash"><span></span><span class="ch">#!/bin/bash</span>

<span class="c1"># Prompt commit message</span>
<span class="nb">read</span> -p <span class="s2">&quot;Enter commit message: &quot;</span> message

<span class="nb">cd</span> path-to-hugo/source

<span class="c1"># Push the source to Github (source branch)</span>
git add .
git commit -m <span class="s2">&quot;</span><span class="nv">$message</span><span class="s2">&quot;</span>
git push origin master

<span class="c1"># Build the site</span>
hugo

<span class="c1"># Run the gulp task</span>
<span class="nb">cd</span> path-to-gulp
gulp deploy

<span class="c1"># Deploy</span>
<span class="nb">cd</span> path-to-firebase
firebase deploy
</code></pre></div><h5 id="gulp-tasks-runner"><em>Gulp tasks runner</em></h5><p><em>I use a series of Gulp task to minify HTML files, copy static resources to the correct locations, <a href="/tech/advanced-custom-urls-for-category-pages-in-hugo/">hack categories URLs</a>, and embed base64-encoded images by processing <code>&lt;img&gt;</code> tags in all the HTML files and replace images files with data URIs. The following is a simplified version of my <code>gulpfile.js</code>, which requires <a href="https://www.npmjs.com/package/gulp-htmlmin"><code>gulp-htmlmin</code></a> and <a href="https://www.npmjs.com/package/gulp-base64"><code>gulp-base64</code></a>:</em></p><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span></span><span class="kd">var</span> <span class="nx">gulp</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">htmlmin</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-htmlmin&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">base64</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;gulp-base64&#39;</span><span class="p">);</span>

<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;minify&#39;</span> <span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="s1">&#39;./output-from-hugo/**/*.html&#39;</span><span class="p">])</span>
    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">htmlmin</span><span class="p">({</span><span class="nx">collapseWhitespace</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">conservativeCollapse</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span> <span class="nx">minifyCSS</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">minifyJS</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">sortAttributes</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">sortClassName</span><span class="o">:</span> <span class="kc">true</span><span class="p">}))</span>
    <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">gulp</span><span class="p">.</span><span class="nx">dest</span><span class="p">(</span><span class="s1">&#39;../public&#39;</span><span class="p">))</span>
<span class="p">});</span>

<span class="nx">gulp</span><span class="p">.</span><span class="nx">task</span><span class="p">(</span><span class="s1">&#39;copy_static&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;minify&#39;</span><span class="p">],</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">gulp</span><span class="p">.</span><span class="nx">src</span><span class="p">([</span><span class="s1">&#39;./output-from-hugo/assets/**/*&#39;&#39;])</span>
<span class="s1">  .pipe(gulp.dest(&#39;</span><span class="p">..</span><span class="o">/</span><span class="kr">public</span><span class="o">/</span><span class="nx">assets</span><span class="s1">&#39;))</span>
<span class="s1">});</span>

<span class="s1">gulp.task(&#39;</span><span class="nx">copy_xml</span><span class="s1">&#39;, [&#39;</span><span class="nx">copy_static</span><span class="s1">&#39;], function() {</span>
<span class="s1">  gulp.src([&#39;</span><span class="p">.</span><span class="o">/</span><span class="nx">output</span><span class="o">-</span><span class="nx">from</span><span class="o">-</span><span class="nx">hugo</span><span class="cm">/**/</span><span class="o">*</span><span class="p">.</span><span class="nx">xml</span><span class="s1">&#39;])</span>
<span class="s1">  .pipe(gulp.dest(&#39;</span><span class="p">..</span><span class="o">/</span><span class="kr">public</span><span class="o">/</span><span class="s1">&#39;))</span>
<span class="s1">});</span>

<span class="s1">gulp.task(&#39;</span><span class="nx">base64</span><span class="s1">&#39;, [&#39;</span><span class="nx">copy_xml</span><span class="s1">&#39;], function () {</span>
<span class="s1">  return gulp.src(&#39;</span><span class="p">..</span><span class="o">/</span><span class="kr">public</span><span class="cm">/**/</span><span class="o">*</span><span class="p">.</span><span class="nx">html</span><span class="s1">&#39;)</span>
<span class="s1">    .pipe(base64({</span>
<span class="s1">      baseDir: &#39;</span><span class="p">.</span><span class="o">/</span><span class="nx">output</span><span class="o">-</span><span class="nx">from</span><span class="o">-</span><span class="nx">hugo</span><span class="o">/</span><span class="s1">&#39;,</span>
<span class="s1">      extensions: [&#39;</span><span class="nx">jpg</span><span class="s1">&#39;],</span>
<span class="s1">      maxImageSize: 20 * 1024, // bytes</span>
<span class="s1">      debug: true</span>
<span class="s1">    }))</span>
<span class="s1">  .pipe(gulp.dest(&#39;</span><span class="p">..</span><span class="o">/</span><span class="kr">public</span><span class="o">/</span><span class="s1">&#39;));</span>
<span class="s1">});</span>

<span class="s1">gulp.task(&#39;</span><span class="nx">deploy</span><span class="s1">&#39;, [&#39;</span><span class="nx">minify</span><span class="s1">&#39;, &#39;</span><span class="nx">copy_static</span><span class="s1">&#39;, &#39;</span><span class="nx">copy_xml</span><span class="s1">&#39;, &#39;</span><span class="nx">base64</span><span class="err">&#39;</span><span class="p">]);</span>
</code></pre></div><p><del><em>Finally, to avoid Github from asking for your password every time you update your site, you can cache the Github password for a specific amount of time. For example, the following command will cache your password for an hour: <code>git config --global credential.helper 'cache --timeout=3600'</code></em></del><em>(This bit has been deprecated in favour of <a href="https://help.github.com/articles/generating-an-ssh-key/">using an SSH key</a> (thanks <a href="https://novelist.xyz/tech/hugo-site-deployment-workflow/#comment-2805196952">Scala WIlliam</a>).</em></p><p><del><em>In the future, I will be looking to use git hooks to trigger the build and deployment process.</em></del></p><p class="meta"><a href="/tech/"><i class="fa fa-archive">&nbsp;</i>Tech</a> &nbsp;&nbsp; <i class="fa fa-calendar-o" content="2016-05-16" itemprop="datePublished">&nbsp;</i>16 May, 2016<br><a href="/tag/hugo/"><i class="fa fa-tag">&nbsp;</i>Hugo</a>&nbsp;&nbsp; <a href="/tag/static-site/"><i class="fa fa-tag">&nbsp;</i>Static Site</a>&nbsp;&nbsp; <a href="/tag/web-development/"><i class="fa fa-tag">&nbsp;</i>Web Development</a>&nbsp;&nbsp; <a href="/tag/github/"><i class="fa fa-tag">&nbsp;</i>Github</a>&nbsp;&nbsp;<br>Copyright &copy; Peter Y. Chuang 2016</p></div><div class="col-lg-2 col-lg-offset-2"><img src="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCABQAFADAREAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAABgcCBAUDAQj/xAAYAQADAQEAAAAAAAAAAAAAAAAAAQIDBP/aAAwDAQACEAMQAAABTOY5Zetqvm7SsuXylaFFBOAog+OdNoPmPqeO6z0c0vEQCIpA+s1nWK667s7NWQvMD83YShQUOZgKTR65rs12aoKidKKObRQRbCMmqEmsmqwi+JVdKukULJhScxl0oesVl3WKi3wSqTLpwk6TTm61ACLdZVIW4gwzKOZouWXLSvQg6mRyMKA3yfkg1DW9pfdUuXIrzTAg1E4hzRVQPAs9ZWPSaUpz81b0sil9muDMoAvSROl//8QAIhAAAgMBAAICAwEBAAAAAAAAAwQBAgUABhESFBATIRUl/9oACAEBAAEFAs7NqScPFFa/mD4lVDU+FrR/fXAbuGlvzj50zwv+Wiy8Qxrf2Jj33x6a+vx66RzFheZpI11fOT6SNrcEF2eVVi1lUYNJcmJEYMilWk24oJqQSo55n4wEkWHfx5f5jlRlUmd+q5HXFU1nDfZLFrU6LzSY/l5B+2jOeR4IMptNRirde+xdaSXsS09aOnvhMsoeMNWhqxPHm03avqbBlkqHPdm/rp60daOWxx30tQ1ypa/3eT0iZOYcslJ3rkcN7S6vg1w1Oigj3jbMEiM+7ddfXIJgrNz2z/GdLR5LwEYuUysvO7TbNezrNy9o1JPZ2ndC+d5bJa/4KrbeekolF346CEt1498aKjGc1oBpsVtPZ5vrNiPasgapaRMT6lgcd+608zYloYaWoXQa7//EABsRAQABBQEAAAAAAAAAAAAAABEgAAEQMEAx/9oACAEDAQE/AefynDO+bWaIu9yTdJM4f//EACARAAIBBAIDAQAAAAAAAAAAAAABEQIQEiAhMQMwUSL/2gAIAQIBAT8BbJErOyejYu9I1wFTGsD9Xe0+jMX65sts+IF2IidJH5EZtlSFwK0maHWyZsrOkz+Dqd5tHwpVmPXg5Ef/xAAyEAABAwICBwcCBwAAAAAAAAABAAIDERIEIRMiIzFBUWEQICRSYnGhMkIUM0NTkcHR/9oACAEBAAY/AhUJgsTsBhWR3nVdzRH1Htcwbj3Bkp8VT8phcpJHOq9+8lHnz71DkVSLDmQ9SpcM3DsijfvI39hDUQUfeiDt2RKHstRlXV+rkqVuPErcB1TmAgq1wLXDgU7meKu0JLR8p2ToncnIiTXfwa1XW29Fqkj2VVbXIIjmFhZI2a2jo89Q4hOMYLZW61RxVzpLidxcSnODnCu5FzjU9x0TQXS3IOlcG9E7Dlmngk2grkWpkrMh9LmngqX3P+2MAK53xl3TizLazonCCU4eZgqHMGT0x+Jm01RSvLorCLJXOJAdyRc4l7jxPb4fCySN81NX+VdjcVHF6I9YrZxGQ+aRGYuyO4clpW0opMPls3UBVXGpQ0eGc1h++TVHyrsfjRTyQD+z/iH4fAte79yXXPzkmeJ0TR9tUbI3HqckbnhvsvRyUeHiNSeCfPiJzrmujjXhsG1hH6km9UfNc7yxZlVjgDPVKc1tZyejMk4wMF3NbZwaUbau7IpBwKq22ILWe6Y8uCo1jY2qrpC7o1bLD09UhotriA3pGrKF55uzWQov/8QAJhABAAICAQMDBQEBAAAAAAAAAQARITFBUWFxgaGxEJHB0fHh8P/aAAgBAQABPyHJhKyW3mWIheg6Zr9wrHu8fQMUMabTJBnrKlS86SuUIh3rEbu5e63KYD1Ral11E3Ppk0SjXYYJI+aCC0cLzS73LGVKxtojO8WS43WKJjYkIk3aDZVpfXh3lcjbbdQwRnPAlTam6qINtApIygwoQoG69RMcZz/14I2e8JsltWaoHBHRVNWqVUxqPI6xIIxh8++AEe8CEb0xWuH7w63WwD2jYSa7zqjcVk/LNfomZ8YKMFf2A407oVQYOQ5p8kJZTqiP8+Zayp4F5s1LAi6AAPQmEHT6NU1CNws73BDEF+DMrMTAXON2MRiU1ObBmvR3FWha+WXcIo1h2/uYhIpt+X1C2h8t+2oIhOrceiKsyZeCH0Y9G3DxF7Eiqzhx/W9vS5poedJ4pf8A0HoQtpj1p9j8TEh8L3lg7R+8wlVbjhaBwtr2dl+YedZBd/LmNV3KT7FsIsD/AAC/kietMX2z7zAXdzfrLTyeBnkkS4+0GwurM25YOOtj8DED5pfqC2/p/giW16P6kUUPSr3Z5Sug2wh2n//aAAwDAQACAAMAAAAQ83bqFCQNevTFOQ/3aM/1So8labNvw/ueOakM2N9ONxRxyjgBSH//xAAeEQADAQEBAAIDAAAAAAAAAAAAAREQITEgUUFhcf/aAAgBAwEBPxAghdGpk+UIMhCjYkdIIbDDevBYvcbpaMY3BcE2w4LX0UEqJTGthKMSokllDZRhnB9Flx1kESiR4WkeJCjGJsn2JPh4uF+xsYsX7ziP4d/I2Nn/xAAdEQEBAQADAQEBAQAAAAAAAAABABEQITFBUWEg/9oACAECAQE/EMLdt2/4YTzpHcREm8EzkNj9sML2CDZgxix8LJttwthtyXgOecn0sR/Ly3beR3uQXRiTHLbzttsIGJnZkB0Zd2t51bbP6iecD4SmcG2Sesl5K8t+u7P1sfJNiDW2GCV6wLdfW/gt17b1FPeBpkD73OnzJYF8LA9bR4QI2Lf/xAAlEAEBAAIBBAEEAwEAAAAAAAABEQAhMUFRYXGBkaGxwRDR8OH/2gAIAQEAAT8QYEvNJGWMj6StGw7AJfLD4aJL9njGpWvfNnnLkSVVU6YK0YeuOHow6nh0w7lZup/ZMddqFVVj3j2Qys8HYxlhloEp2zngMeOMogVdAZfvmdCYEugfwwwr0kyBFM3A4yOrbj6aKlFTIGnVnLLhUAULlWv6ntMcZEHseod+MUsSPpxaGw7KcAnLffwYoYIKi6j5wsy6k9lygCSZU2R+M17QW9gfecr6dAUJv5yXcgmuEo/GU0DQUpvScyHy9jEnugQpsr0gBjzVr1hxXq4lkalQ9zLlu6i6feLSoCaUcZU2RkL0cvOJHNwe7D6ZoJ1jhsqiIatG8i+mwwjU1DpqbHEiSVa+oRx2/eL0GuzBeGcjMjhcaxgYg3/Jh7sKFk/7+8Kaigio2ENzHw03XX0oCvGprcOug43jt6Q/dZs6a9brR2xjG5EOwAGIG4fnKGny5S9c+ZlezwTPRtSvbvkvZwGE7w+T74YMviI7IRy8EebvLdqgRwzsRgRz2zlf2Qd+uXpZehg8uX/+Si9yPy5IQODfDoXyLhTwFT9wA+mF6Q3Y7YV6OAhInXrjKHgKMCuk6YkEaq1clNzTPsIR6Lxk5Cl2OymB10L3kR1Wr3X7SyLtIZW9Qlh2TNGMQP8AvfbIBXbr9X9ZKottx5MDmKohQquM2tGKe05O3xhT7G67bLj4nOG5PArx+RrJBJOnd9x9OCZrv885KxrUFXlbX5xJunkFOnXWICZ0FL7/AIR8KkBlLE+mbWli59+DERbVH4Ee8MAxBYfZkVk8pHxsXIxJwB9hv7DO9SQx42P2MQ+Vrb5xzwoBn//Z" class="avatar" alt="Peter Y. Chuang"><p class="connect-buttons"><a href="https://twitter.com/peterychuang" title="Twitter" class="fa-stack fa-lg"><i class="fa fa-twitter fa-stack">&nbsp;</i></a> <a href="https://plus.google.com/+PeterYuChuang/" title="Google+" class="fa-stack fa-lg"><i class="fa fa-google-plus fa-stack">&nbsp;</i></a> <a href="https://medium.com/@peterychuang" title="Medium" class="fa-stack fa-lg"><i class="fa fa-medium fa-stack">&nbsp;</i></a> <a href="mailto:peter@novelist.xyz" title="Email" class="fa-stack fa-lg"><i class="fa fa-envelope fa-stack">&nbsp;</i></a></p></div><div class="col-lg-6"><p class="author-intro">Peter Y. Chuang is a Hong Kong-born <b><a href="/">novelist</a> and <a href="/short-stories">short story</a> writer</b> who’s lived in London and calls Berlin his spiritual home. He has completed the manuscript of a literary science fiction <a href="/#novels">novel</a>, <b>“<a href="/novels/2047">Twenty Forty-Seven</a></b>,” and is currently re-writing another literary <a href="/#novels">novel</a>, <b>“<a href="/novels/only-you-know-what-it-means/">Only You Know What It Means</a></b>.”</p></div><div class="col-lg-8 col-lg-offset-2"><h4 class="relatedPost">You may also like...</h4><ul class="relatedPost"><li class="relatedPost"><a href="/tech/related-posts-in-hugo/">How to show related posts in Hugo</a><br>This is how to show a fixed number of related posts in Hugo</li><li class="relatedPost"><a href="/tech/progressive-background-image-loading/">Progressive and blurry image loading</a><br>Starting with a blurry image, which then gets clearer and clearer when loading finishes</li><li class="relatedPost"><a href="/tech/advanced-custom-urls-for-category-pages-in-hugo/">Customising categories URLs in Hugo revisited</a><br>An advanced hack to customise categories URLs in Hugo</li></ul></div><div class="col-lg-8 col-lg-offset-2"><div id="disqus_thread"></div><script>var disqus_config=function(){this.page.url="https://novelist.xyz/tech/hugo-site-deployment-workflow/",this.page.identifier="https://novelist.xyz/tech/hugo-site-deployment-workflow/"};!function(){var t=document,e=t.createElement("script");e.src="//novelistxyz.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></div><div class="col-lg-8 col-lg-offset-2"><ol vocab="http://schema.org/" typeof="BreadcrumbList" class="breadcrumb"><li property="itemListElement" typeof="ListItem"><a href="/" property="item" typeof="WebPage"><span property="name">Home</span></a><meta content="1" property="position"></li><li property="itemListElement" typeof="ListItem"><a href="/tech/" property="item" typeof="WebPage"><span property="name">Tech</span></a><meta content="2" property="position"></li><li property="itemListElement" typeof="ListItem"><a href="/tech/hugo-site-deployment-workflow/" property="item" typeof="WebPage"><span property="name">How I deploy my Hugo site to my webserver</span></a><meta content="3" property="position"></li></ol></div></div></div></section><footer class="text-center footer" data-anchor="footer"><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2"><p><a><span class="fa-stack"><i class="fa fa-share-alt"></i></span></a> <a href="https://twitter.com/share?url=https%3a%2f%2fnovelist.xyz%2ftech%2fhugo-site-deployment-workflow%2f&text=How%20I%20deploy%20my%20Hugo%20site%20to%20my%20webserver&via=peterychuang" title="Share on Twitter" target="_blank"><span class="fa-stack"><i class="fa fa-twitter"></i></span></a> <a href="https://plus.google.com/share?url=https%3a%2f%2fnovelist.xyz%2ftech%2fhugo-site-deployment-workflow%2f" title="Share on Google+" target="_blank"><span class="fa-stack"><i class="fa fa-google-plus"></i></span></a> <a href="http://reddit.com/submit?url=https%3a%2f%2fnovelist.xyz%2ftech%2fhugo-site-deployment-workflow%2f" title="Share on Reddit" target="_blank"><span class="fa-stack"><i class="fa fa-reddit-alien"></i></span></a> <a href="http://www.facebook.com/sharer.php?url=https%3a%2f%2fnovelist.xyz%2ftech%2fhugo-site-deployment-workflow%2f" title="Share on Facebook" target="_blank"><span class="fa-stack"><i class="fa fa-facebook"></i></span></a></p></div></div></div></footer><script>function transitionEndEventName(){var t,e=document.createElement("div"),n={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in n)if(n.hasOwnProperty(t)&&void 0!==e.style[t])return n[t];return!1}function getMaxHeight(t){var e=t.style.height;t.style.height="auto";var n=getComputedStyle(t).height;return t.style.height=e,t.offsetHeight,n}function complete(e){t.classList.remove("collapsing"),t.classList.add("collapse"),"0px"!==t.style.height&&(t.classList.add("in"),t.style.height="auto")}document.addEventListener("DOMContentLoaded",function(){var t=document.querySelector(".header");if(!t)return!1;var e=t.getAttribute("data-src"),n=document.querySelector(".img"),i=new Image;i.src=e,i.onload=function(){n.classList.add("loaded"),n.style.backgroundImage="url("+e+")"}});var b=document.querySelectorAll(".navbar .dropdown > a");for(i=0;i<b.length;++i)b[i].onclick=function(){location.href=this.href};var h=document.querySelector("header");n=document.querySelector(".navbar"),f=document.querySelector(".footer"),top=h.getBoundingClientRect().top,window.onscroll=function(){var t=h.getBoundingClientRect().top;t<=-50?(n.classList.add("scrolled"),f.classList.add("show")):n.classList.remove("scrolled")};var b=document.body.clientHeight;w=window.innerHeight,m=document.querySelector(".footer"),b<=w&&m.classList.add("show");var e=document.querySelector(".navbar-toggle"),t=document.querySelector(".navbar-collapse"),transitionend=transitionEndEventName(),a=e.getAttribute("aria-expanded");e.onclick=function(){"false"==a&&(t.classList.remove("collapse"),t.classList.add("collapsing"),e.classList.remove("collapsed"),e.setAttribute("aria-expanded",!0),t.style.height=getMaxHeight(t),transitionend?t.addEventListener(transitionend,function(){complete(t)},!1):complete(t))},a=e.getAttribute("aria-expanded"),document.onclick=function(){"true"==a&&(t.classList.remove("collapse"),t.classList.remove("in"),t.classList.add("collapsing"),e.classList.add("collapsed"),e.setAttribute("aria-expanded",!1),t.style.height=getComputedStyle(t).height,t.offsetHeight,t.style.height="0px"),a=e.getAttribute("aria-expanded")}</script><script async src="/assets/js/cookieconsent.min.js"></script><script>!function(e,t,a,n,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=t.createElement(a),s=t.getElementsByTagName(a)[0],o.async=1,o.src=n,s.parentNode.insertBefore(o,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-66841656-1","auto"),ga("send","pageview")</script></body></html>